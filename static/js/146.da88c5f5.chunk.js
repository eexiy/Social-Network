"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[146],{5146:function(e,s,t){t.r(s),t.d(s,{default:function(){return fe}});var i=t(8683),o=t(5671),a=t(3144),r=t(136),n=t(7277),l=t(2791),c=t(8687),u=t(6508),f=t(5705),d="MyPosts_myPosts__S2bry",p="MyPosts_myPostsTitle__8mf1r",h="MyPosts_posts__7wkCs",x="MyPosts_myPostField__6V79J",j=t(8820),_=t(184),m=function(e){return(0,_.jsx)(f.J9,{initialValues:{newPostText:""},onSubmit:function(s,t){var i=t.resetForm;console.log(s.newPostText),function(s){e.sendPost(s)}(s.newPostText),i({values:""})},children:function(){return(0,_.jsx)(f.l0,{children:(0,_.jsxs)("div",{className:x,children:[(0,_.jsx)(f.gN,{name:"newPostText",as:"textarea",placeholder:"enter text"}),(0,_.jsx)("button",{type:"submit",children:(0,_.jsx)(j.gYb,{})})]})})}})},v="Post_item__QLrUw",P="Post_post__13fVx",b=t(8387),g=function(e){return(0,_.jsxs)("div",{className:v,children:[(0,_.jsxs)("div",{className:P,children:[(0,_.jsx)("img",{src:b,alt:""}),(0,_.jsx)("div",{children:e.message})]}),(0,_.jsxs)("div",{children:[(0,_.jsx)("span",{children:"Like"})," ",e.likes]})]})},N=l.memo((function(e){var s=e.postsData.map((function(e){return(0,_.jsx)(g,{message:e.post,likes:e.likes},e.id)}));return(0,_.jsx)("div",{className:d,children:(0,_.jsxs)("div",{children:[(0,_.jsx)("h3",{className:p,children:"My Posts"}),(0,_.jsx)("div",{children:(0,_.jsx)(m,{sendPost:e.sendPost})}),(0,_.jsx)("div",{className:h,children:s})]})})})),k=(0,c.$j)((function(e){return{postsData:e.profilePage.postsData}}),(function(e){return{sendPost:function(s){e((0,u.Wl)(s))}}}))(N),D={profile:"Profile_profile__aS6AO"},S=t(885),F=t(0),y="ProfileInfo_profileInfo__BFdQ+",w="ProfileInfo_profileLeft__2fE3T",I="ProfileInfo_profile__infoAva__kHeqU",M="ProfileInfo_profile__contact__9goMH",A="ProfileInfo_contactIcon__zwFEh",L="ProfileInfo_profileStatus__DXsA9",O="ProfileInfo_profileStatusInput__Jinrr",C="ProfileData_profileData__WbPuq",J="ProfileData_profileDataName__wA7DD",E="ProfileData_profileDataList__gkIwU",T="ProfileData_profileDataListTitle__DEhVv",U="ProfileData_profileDataForm__K3T8H",Z="ProfileData_profileDataFormInf__91tcv",z="ProfileData_profileDataFormTitle__7+aAE",V="ProfileData_profileDataFormLeft__19MaN",B="ProfileData_profileDataFormName__T5LIS",H="ProfileData_profileDataFormSkills__H2ybG",q="ProfileData_profileDataFormAboutMe__Sn-Sr",R="ProfileData_contacts__iw-H-",Q="ProfileData_profileDataFormCheckBox__im9yC",W="ProfileData_btnFile__zrW20",Y="ProfileData_btnSave__LlY7m",X="ProfileData_profileDataBtn__NQj5T",$="ProfileData_btnCancel__-tbtr",G="ProfileData_profileDataFormRight__jLqQd",K=function(e){var s=(0,l.useState)(!1),t=(0,S.Z)(s,2),i=t[0],o=t[1],a=(0,l.useState)(e.status),r=(0,S.Z)(a,2),n=r[0],c=r[1];(0,l.useEffect)((function(){c(e.status)}),[e.status]);return(0,_.jsxs)(_.Fragment,{children:[!i&&(0,_.jsx)("div",{children:(0,_.jsx)("span",{className:L,onDoubleClick:function(){o(!0)},children:e.status})}),i&&(0,_.jsx)("div",{className:O,children:(0,_.jsx)("input",{autoFocus:!0,onBlur:function(){o(!1),e.updateStatus(n)},onChange:function(e){c(e.currentTarget.value)},value:n})})]})},ee=function(e){return(0,_.jsxs)("div",{className:C,children:[(0,_.jsx)("h1",{className:J,children:e.profile.fullName}),(0,_.jsx)("div",{children:(0,_.jsx)(K,{status:e.status,profile:e.profile,updateStatus:e.updateStatus})}),e.isOwner&&(0,_.jsx)("button",{className:X,onClick:e.activateEditMode,children:"Edit profile"}),(0,_.jsxs)("div",{className:E,children:[(0,_.jsxs)("div",{className:T,children:[(0,_.jsx)("h4",{children:"Looking for a job:"}),(0,_.jsx)("span",{children:e.profile.lookingForAJob?"Yes":"No"})]}),(0,_.jsxs)("div",{className:T,children:[(0,_.jsx)("h4",{children:"Professional skills:"}),(0,_.jsx)("span",{children:e.profile.lookingForAJobDescription})]}),(0,_.jsxs)("div",{className:T,children:[(0,_.jsx)("h4",{children:"About Me:"}),(0,_.jsx)("span",{children:e.profile.aboutMe})]})]})]})},se=function(e){var s=e.initialValues,t=s.fullName,i=void 0===t?"":t,o=s.lookingForAJob,a=void 0!==o&&o,r=s.lookingForAJobDescription,n=void 0===r?"":r,c=s.aboutMe,u=void 0===c?"":c,d=s.contacts,p=void 0===d?{facebook:null,instagram:null,twitter:null,vk:null,website:null,youtube:null,github:null,mainLink:null}:d,h=(0,l.useRef)(),x=function(e){h.current.click()};return(0,_.jsx)("div",{className:U,children:(0,_.jsx)(f.J9,{enableReinitialize:!0,initialValues:{fullName:i,lookingForAJob:a,lookingForAJobDescription:n,aboutMe:u,contacts:p},onSubmit:function(s){e.saveProfileInfo(s),e.setEditMode(!1)},children:function(){return(0,_.jsxs)(f.l0,{children:[(0,_.jsx)("h2",{className:z,children:"Edit information"}),(0,_.jsxs)("div",{className:Z,children:[(0,_.jsxs)("div",{className:V,children:[(0,_.jsxs)("div",{className:B,children:[(0,_.jsx)(f.gN,{name:"fullName",type:"text"}),(0,_.jsx)("span",{}),(0,_.jsx)("label",{htmlFor:"",children:"Full name"})]}),(0,_.jsxs)("div",{className:H,children:[(0,_.jsx)(f.gN,{name:"lookingForAJobDescription"}),(0,_.jsx)("span",{}),(0,_.jsx)("label",{htmlFor:"",children:"My professional skills"})]}),(0,_.jsxs)("div",{className:q,children:[(0,_.jsx)(f.gN,{name:"aboutMe"}),(0,_.jsx)("span",{}),(0,_.jsx)("label",{htmlFor:"",children:"About me"})]}),(0,_.jsxs)("div",{className:Q,children:[(0,_.jsx)(f.gN,{name:"lookingForAJob",type:"checkbox",id:"lookingForAJob"}),(0,_.jsxs)("label",{htmlFor:"lookingForAJob",children:[(0,_.jsx)("b",{children:" Looking for a job"})," "]})]}),(0,_.jsx)("div",{children:(0,_.jsxs)("button",{className:W,onClick:x,children:[(0,_.jsx)("input",{style:{display:"none"},ref:h,type:"file",onChange:e.onMainPhotoSelected}),"Choose a photo"]})})]}),(0,_.jsx)("div",{className:G,children:Object.keys(e.profile.contacts).map((function(e){return(0,_.jsxs)("div",{className:R,children:[(0,_.jsx)(f.gN,{name:"contacts.".concat(e)}),(0,_.jsx)("span",{}),(0,_.jsx)("label",{htmlFor:"",children:e}),(0,_.jsx)(f.Bc,{name:"contacts.".concat(e),component:"div"})]},e)}))})]}),(0,_.jsx)("button",{className:Y,type:"submit",children:"Save"}),(0,_.jsx)("button",{onClick:e.deactivateEditMode,className:$,children:"Cancel"})]})}})})},te=t(6907),ie=t(860),oe=t(3504),ae=function(e){var s=e.contacts;return(0,_.jsxs)("div",{className:M,children:[(0,_.jsx)(oe.OL,{className:A,to:"//".concat(s.facebook),target:"_blank",children:(0,_.jsx)(j.Wjh,{})}),(0,_.jsx)(oe.OL,{className:A,to:"//".concat(s.github),target:"_blank",children:(0,_.jsx)(j.idJ,{})}),(0,_.jsx)(oe.OL,{className:A,to:"//".concat(s.instagram),target:"_blank",children:(0,_.jsx)(j.Bpw,{})}),(0,_.jsx)(oe.OL,{className:A,to:"//".concat(s.mainLink),target:"_blank",children:(0,_.jsx)(j.uFt,{})}),(0,_.jsx)(oe.OL,{className:A,to:"//".concat(s.twitter),target:"_blank",children:(0,_.jsx)(j.h3E,{})}),(0,_.jsx)(oe.OL,{className:A,to:"//".concat(s.vk),target:"_blank",children:(0,_.jsx)(te.xYP,{})}),(0,_.jsx)(oe.OL,{className:A,to:"//".concat(s.youtube),target:"_blank",children:(0,_.jsx)(j.RLq,{})}),(0,_.jsx)(oe.OL,{className:A,to:"//".concat(s.website),target:"_blank",children:(0,_.jsx)(ie.Zl0,{})})]})},re=function(e){var s=(0,l.useState)(!1),t=(0,S.Z)(s,2),i=t[0],o=t[1];if(!e.profile)return(0,_.jsx)(F.Z,{});return(0,_.jsxs)("div",{className:y,children:[(0,_.jsxs)("div",{className:w,children:[(0,_.jsx)("img",{className:I,src:e.profile.photos.large||b,alt:""}),(0,_.jsx)(ae,{contacts:e.profile.contacts})]}),(0,_.jsxs)("div",{children:[(0,_.jsx)(ee,{activateEditMode:function(){return o(!0)},isOwner:e.isOwner,profile:e.profile,status:e.status,updateStatus:e.updateStatus}),i&&(0,_.jsx)(se,{setEditMode:o,saveProfileInfo:e.saveProfileInfo,initialValues:e.profile,profile:e.profile,isOwner:e.isOwner,onMainPhotoSelected:function(s){s.target.files.length&&e.savePhoto(s.target.files[0])},deactivateEditMode:function(){return o(!1)}})]})]})},ne=function(e){return(0,_.jsxs)("div",{className:D.content,children:[(0,_.jsx)("div",{className:D.profile,children:(0,_.jsx)(re,{profile:e.profile,status:e.status,isOwner:e.isOwner,updateStatus:e.updateStatus,saveProfileInfo:e.saveProfileInfo,savePhoto:e.savePhoto})}),(0,_.jsx)(k,{})]})},le=t(6871),ce=t(7781),ue=function(e){(0,r.Z)(t,e);var s=(0,n.Z)(t);function t(e){var i;return(0,o.Z)(this,t),(i=s.call(this,e)).state={isShowMyProfile:!0},i}return(0,a.Z)(t,[{key:"componentDidMount",value:function(){var e=+this.props.router.params.userId,s=this.props.authorizedUserId;e?(this.props.getUserProfile(e),this.props.getStatus(e)):this.props.isAuth&&(this.props.getUserProfile(s),this.props.getStatus(s))}},{key:"componentDidUpdate",value:function(e,s,t){var i=+this.props.router.params.userId,o=this.props.authorizedUserId;this.state.isShowMyProfile&&(i===o&&this.setState({isShowMyProfile:!1}),!i&&this.props.isAuth&&(this.props.getUserProfile(o),this.props.getStatus(o),this.setState({isShowMyProfile:!1})))}},{key:"render",value:function(){if(!this.props.isAuth&&!this.props.router.params.userId)return(0,_.jsx)(le.Fg,{to:"/login"});var e=+this.props.router.params.userId,s=this.props.authorizedUserId,t=!1;return(!e&&this.props.isAuth||e===s)&&(t=!0),(0,_.jsx)("div",{children:(0,_.jsx)(ne,{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,isOwner:t,savePhoto:this.props.savePhoto,saveProfileInfo:this.props.saveProfileInfo})})}}]),t}(l.Component);var fe=(0,ce.qC)((function(e){return function(s){var t=(0,le.TH)(),o=(0,le.s0)(),a=(0,le.UO)();return(0,_.jsx)(e,(0,i.Z)((0,i.Z)({},s),{},{router:{location:t,navigate:o,params:a}}))}}),(0,c.$j)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.id,isAuth:e.auth.isAuth}}),{getUserProfile:u.et,getStatus:u.lR,updateStatus:u.Nf,savePhoto:u.Ju,saveProfileInfo:u.FX}))(ue)},8387:function(e,s,t){e.exports=t.p+"static/media/avaLogo.cc22f844f8d6778e4773.jpg"}}]);
//# sourceMappingURL=146.da88c5f5.chunk.js.map